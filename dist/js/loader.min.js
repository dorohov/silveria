var container = `<div class="loader__container" id="loaderContainer"><div class="loader__img" id="loaderImg"></div></div>`
document.body.innerHTML = container + document.body.innerHTML;
var block = document.getElementById('loaderImg');
var container = document.getElementById('loaderContainer')
var percentage = 0;
var loaded = false
setInterval(function() {
    if(percentage < 100 && loaded == false) {
        percentage += 3;
        block.dataset.progressText = percentage + '%';
    }else {
        block.dataset.progressText = '100%';
    }
}, 300)

function clearLoader() {
    block.dataset.progressText = '100%';
    loaded = true
    setTimeout(function() {
        container.remove();
        console.log('loaded')
    }, 500)
}

window.addEventListener('load', function() {
    clearLoader()
})