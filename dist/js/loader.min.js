var container = `<div class="loader__container" id="loaderContainer"><div class="loader__img" id="loaderImg"></div></div>`
document.body.innerHTML = container + document.body.innerHTML;
var block = document.getElementById('loaderImg');
var container = document.getElementById('loaderContainer')
var percentage = 0;
var loaded = false;

setInterval(function() {
    if(percentage < 100 && loaded == false) {
        percentage += 3;
        block.dataset.progressText = percentage + '%';
    }else {
        block.dataset.progressText = '100%';
    }
}, 300)

function clearLoader() {
    block.dataset.progressText = '100%';
    loaded = true
    var animations = document.querySelectorAll('.__animate')
        for (var i = 0; i < animations.length; i++) {
            animations[i].classList.remove('animated', 'go', 'fadeInUp')
        }
    setTimeout(function() {
        container.remove();
        for (var i = 0; i < animations.length; i++) {
            animations[i].classList.add('animated', 'go', 'fadeInUp')
        }
    }, 500)
}

window.addEventListener('load', function() {
    clearLoader()
})